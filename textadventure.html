<!DOCTYPE html>
<html>
    <head>
        <title>Home</title>

        <link rel="stylesheet" type="text/css" href="css/navbar.css"/>
    </head>
    <style>
        #container{
            position: absolute;
            left: 0px;
            right:0px;
            top:70px;
            bottom:0px;
        }
        #left_pane{
            background-color:white;
            height: 100%;
            width: 56%;
            float: left;
            display: flex;
            align-items:center;
            justify-content: center;
        }
        #right_pane{
            background-color: purple;
            height:100%;
            width:44%;
            float: left;
        }
        #story_text{
                background-color: purple;  
                font-weight:bold; 
                color: white; 
                position: absolute;
                right: 0px; 
                top: 20px; 
                text-align:left;
        }
        #button_choices{
                background-color: purple;
                position: absolute;
                display:flex;
                align-items:center;
                justify-content: center;
                bottom: 0px;
                height: 200px;
        }
        #story_img{
            max-height: 97%;
            max-width: 97%;
            width: auto;
            height: auto;
        }
        .buttons{
            text-decoration:none;
            color:white;
            background-color:black;
            padding:10px;
            border-radius: 8px;
            font-size:15px;
            margin: 10px;
        }
    </style>

    <body>
        <ul class ="navbar">
            <li><a href="index.html">Home</a></li>
            <li><a href="resume.html">Resume</a></li>
            <li><a href="contactme.html">Contact Me</a></li>
            <li><a href="aboutme.html">About Me</a></li>
            <li class="dropdown">
                <a href="#">Projects</a>
                <ul class="dropdown-content">
                    <li><a href="textadventure.HTML">Text Adventure</a></li>
                    <li><a href="#">Project 2</a></li>
                    <li><a href="#">Project 3</a></li>
                    <li><a href="#">Project 4</a></li>
                    <li><a href="#">Project 5</a></li>
                </ul>
            </li>
        </ul>

        <div id="container">
            <div id="left_pane">
                <img id= "story_img" src= "images/edu.jpg"/>
            </div>
            <div id="right_pane">
                <div id="story_text">
                    <p id='ptext1'></p>
                    <p id='ptext2'></p>
                    <p id='ptext3'></p>
                    <p id='ptext4'></p>

                </div>
                <div id="button_choices">
                    <a id="b1" class="buttons" href ="#" onclick="bclick(1)">Yes</a>
                    <a id="b2" class="buttons" href ="#" onclick="bclick(2)">No</a>
                </div>
            </div>
        </div>


    <script>
        var ptext1 = document.getElementById('ptext1');
        var ptext2 = document.getElementById('ptext2');
        var ptext3 = document.getElementById('ptext3');
        var ptext4 = document.getElementById('ptext4');
        var b1 = document.getElementById("b1");
        var b2 = document.getElementById("b2");
        var img = document.getElementById("story_img");
        var state = "intro";
        intro();

        function intro(){
            img.src = "images/caraval.jpg";
            ptext1.innerHTML="While you are out on a trip to the store, you encounter a shiny necklace with a charm that looks like a C. You pick it up and suddenly you are transported Celestriaii, a planet in our galaxy.";
            ptext2.innerHTML="Do you explore the planet or immediately walk up to a Celestrian, hoping to find a way home?";
            ptext3.innerHTML="";
            ptext4.innerHTML="";
            b1.innerHTML = "Explore!";
            b2.innerHTML = "Find Help!";
        }

        function explore(){
            img.src = "images/refugee.jpg";
            ptext1.innerHTML= "As you walk through the forest of Celestriaii, you feel as if there's someone watching you but brush it off. Suddenly, you spot a phoenix in the sky and it drops a scroll right on your head!";
            ptext2.innerHTML= "Do you wish to open the scroll or follow the phoenix?";
            ptext3.innerHTML= "";
            b1.innerHTML= "Open the scroll";
            b2.innerHTML= "Follow the phoenix";
        }
        function followPhoenix(){
            img.src = "images/refugee.jpg";
            ptext1.innerHTML= "As you follow the phoenix, you become unaware of your environment and lose your footing. As you plummet to oblivion, you realize you should've went with the scroll. Try again next time!";
            ptext2.innerHTML= "";
            ptext3.innerHTML= "";
            b1.style.display= "none";
            b2.style.display= "none";
        }
        function openScroll(){
            img.src = "images/cinder.jpg";
            ptext1.innerHTML= "The scroll says: Release the one wrongfully in despair and find the one of true evil who's a hidden spare. The phoenix suddenly swoops down and keeps circling around you until you decide to follow it. The phoenix eventually leaves you at a hide out of some kind.";
            ptext2.innerHTML= "";
            ptext3.innerHTML= "Do you stay and explore the hide out or weep forthe phoenix to come back?";
            b1.innerHTML= "Explore";
            b2.innerHTML= "Weep";
        }
        function exploreTwo(){
            img.src = "images/cinder.jpg";
            ptext1.innerHTML= "You realize that inside the hideout is a portal! Excited to see where it leads to, you step inside. The portal teleports you to the dungeons in the capital where you notice  a woman who wears a long garb in one of the cells.";
            ptext2.innerHTML= "";
            ptext3.innerHTML= "Inquire about the lady in the garb or make your merry way down the dungeon?";
            b1.innerHTML= "Inquire";
            b2.innerHTML= "Keep Going";
        }
        function weep(){
            img.src = "images/cinder.jpg";
            ptext1.innerHTML= "The phoenix returns, shakes it's tiny head and leave you to cry as a coward. You're not the destined one. Better luck next time!";
            ptext2.innerHTML= "";
            ptext3.innerHTML= "";
            b1.style.display= "none";
            b2.style.display= "none";
        }
        function inquire(){
            img.src = "images/cinder.jpg";
            ptext1.innerHTML= "You realize this lady is a Guardian, one of the protectors of the planet! She is indeed the one in wrongful despair. She informs you that her name is Maurii and Guardian Venoii banished her here because he wanted to get rid of any threat to his power. The Guardians are overjoyed to have Maurii back and strip Venoii of his status. You have fulfilled your destiny and restored piece!";
            ptext2.innerHTML= "";
            ptext3.innerHTML= "";
            b1.style.display= "none";
            b2.style.display= "none";
        }
        function keepGoing(){
            img.src = "images/cinder.jpg";
            ptext1.innerHTML= "You keep walking through the dungeon and the hallways begin to get darker and darker. You panic and see a red button.";
            ptext2.innerHTML= "";
            ptext3.innerHTML= "Do you click the red button or yell for help?";
            b1.innerHTML= "Click the button";
            b2.innerHTML= "Yell";
        }


        /////State Machine
        function bclick(button) {
            if(state == "intro"){
                if(button == 1){
                    explore();
                    state= "explore";
                }
                else if(button == 2){
                    findHelp();
                    state= "findHelp";
                }
            }
            else if(state == "explore"){
                if (button == 1){
                    openScroll();
                    state = "openScroll";
                }
                else if(button == 2){
                    followPhoenix();
                    state = "followPhoenix";
                }
            }
            else if(state == "openScroll"){
                if (button == 1){
                    exploreTwo();
                    state = "exploreTwo";
                }
                else if(button == 2){
                    weep();
                    state = "weep";
                }
            }
            else if(state == "followPhoenix"){
                if (button == 1){
                    intro();
                    state = "intro";
                }
            }
            else if(state == "weep"){
                if (button == 1){
                    intro();
                    state = "intro";
                }
            }
            else if(state == "exploreTwo"){
                if (button == 1){
                    inquire();
                    state = "inquire";
                }
                else if(button == 2){
                    keepGoing();
                    state = "keepGoing";
                }
            }
            else if(state == "inquire"){
                if (button == 1){
                    intro();
                    state = "intro";
                }
            }
            else if(state == "keepGoing"){
                if (button == 1){
                    clickButton();
                    state = "clickButton";
                }
                else if(button == 2){
                    help();
                    state = "help";
                }
            }
        }
    </script>
    </body>
    <html>